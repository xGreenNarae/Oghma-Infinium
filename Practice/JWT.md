MAC에 대한 내용인데, 분명 계산을 따라가는 과정이 복잡하기 때문에 매번 자세히 설명하기 어렵다.  

목적은 "무결성", 기밀성은 필요없다. 변조만 감지하면 된다.  


"text" 라는 문자열이 있다.  
비밀 키도 하나 만든다. "secret" 이다.  

**JWT 생성과정**  
구체적인 방식은 달라질 수 있겠다.(해싱과 암호화의 절차 변경, 비대칭키 사용 등..)  

1. 메시지 해싱  
"text"를 Hashing 한다. 예를들어 "hashed"가 나왔다고 하자.  
(이 값을 보고 "text"를 알아내는 것은 불가능하다고 가정한다.)  

2. 대칭키 암호화  
"hashed"를 "secret"으로 암호화한다.(대칭키)  
예를들어 "encrypted"가 나왔다고 하자.  

3. 문자열 연결 및 전송  
여기에 원래 문자열을 예를들어 "." 으로 연결해보면 "text.encrypted" 가 된다.   
이것을 클라이언트에게 전송한다.  

**메시지 조작 시도 시나리오**  
클라이언트가 악의적으로 내용을 조작한다고 치자.  
"pext.encrypted" 라고 바꾸고, 서버로 전송했다.  

**검증**  
1. 서명 부를 분리하고 복호화 한다.  
"encrypted"를 "secret" 으로 복호화 하면 "hashed"가 나온다.  

2. 페이로드 해시 값 비교  
"pext"를 Hashing 해본다. 1의 결과인 "hashed"가 나와야 하는데 절대로 그럴 수 없다고 가정한다. 따라서 무결성이 위반되었다.  
"text" 였다면(정상시나리오) "hashed"가 나와서 1의 결과와 일치하므로 위조되지 않은 메시지임을 보장한다.  



  




